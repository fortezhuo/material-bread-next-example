{"ast":null,"code":"var _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _Ripple = _interopRequireWildcard(require(\"./Ripple.styles\"));\n\nvar _jsxFileName = \"/Users/codypearce/projects/material-bread/src/Components/Ripple/Ripple.js\";\n\nvar Ripple = function (_PureComponent) {\n  (0, _inherits2[\"default\"])(Ripple, _PureComponent);\n\n  function Ripple(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Ripple);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Ripple).call(this, props));\n    _this.onLayout = _this.onLayout.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onPress = _this.onPress.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onPressIn = _this.onPressIn.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onPressOut = _this.onPressOut.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onLongPress = _this.onLongPress.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.onAnimationEnd = _this.onAnimationEnd.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.renderRipple = _this.renderRipple.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.unique = 0;\n    _this.mounted = false;\n    _this.rippleFades = _this.props.rippleFades && !_this.props.displayUntilPressOut;\n    _this.isPressingIn = false;\n    _this.animationWaitingForEnd = false;\n    _this.state = {\n      width: 0,\n      height: 0,\n      ripples: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Ripple, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false;\n    }\n  }, {\n    key: \"onLayout\",\n    value: function onLayout(event) {\n      var _event$nativeEvent$la = event.nativeEvent.layout,\n          width = _event$nativeEvent$la.width,\n          height = _event$nativeEvent$la.height;\n      var onLayout = this.props.onLayout;\n\n      if ('function' === typeof onLayout) {\n        onLayout(event);\n      }\n\n      this.setState({\n        width: width,\n        height: height\n      });\n    }\n  }, {\n    key: \"onPress\",\n    value: function onPress(event) {\n      var onPress = this.props.onPress;\n\n      if ('function' === typeof onPress) {\n        requestAnimationFrame(function () {\n          return onPress(event);\n        });\n      }\n    }\n  }, {\n    key: \"onLongPress\",\n    value: function onLongPress(event) {\n      var _this$props = this.props,\n          onLongPress = _this$props.onLongPress,\n          disabled = _this$props.disabled;\n      if (disabled) return;\n\n      if ('function' === typeof onLongPress) {\n        requestAnimationFrame(function () {\n          return onLongPress(event);\n        });\n      }\n\n      this.startRipple(event);\n    }\n  }, {\n    key: \"onPressIn\",\n    value: function onPressIn(event) {\n      var _this$props2 = this.props,\n          onPressIn = _this$props2.onPressIn,\n          rippleSequential = _this$props2.rippleSequential,\n          disabled = _this$props2.disabled;\n      var ripples = this.state.ripples;\n      if (disabled) return;\n      this.isPressingIn = true;\n\n      if (!rippleSequential || !ripples.length) {\n        if (onPressIn) {\n          onPressIn(event);\n        }\n\n        this.startRipple(event);\n      }\n    }\n  }, {\n    key: \"onPressOut\",\n    value: function onPressOut(event) {\n      var onPressOut = this.props.onPressOut;\n\n      if ('function' === typeof onPressOut) {\n        onPressOut(event);\n      }\n\n      this.signalAnimationEnd();\n      this.isPressingIn = false;\n    }\n  }, {\n    key: \"onAnimationEnd\",\n    value: function onAnimationEnd(event) {\n      if (this.props.displayUntilPressOut && this.isPressingIn) {\n        this.animationWaitingForEnd = true;\n        return;\n      }\n\n      if (this.props.onAnimationEnd) {\n        this.props.onAnimationEnd(event);\n      }\n\n      this.forceAnimationEnd();\n    }\n  }, {\n    key: \"signalAnimationEnd\",\n    value: function signalAnimationEnd() {\n      if (this.animationWaitingForEnd) {\n        this.forceAnimationEnd();\n      }\n    }\n  }, {\n    key: \"forceAnimationEnd\",\n    value: function forceAnimationEnd() {\n      if (this.mounted) {\n        this.setState(function (_ref) {\n          var ripples = _ref.ripples;\n          return {\n            ripples: ripples.slice(1)\n          };\n        });\n      }\n\n      this.animationWaitingForEnd = false;\n    }\n  }, {\n    key: \"webGetPositionInElement\",\n    value: function webGetPositionInElement(e) {\n      var rect = e.nativeEvent.target.getBoundingClientRect();\n      var x = e.nativeEvent.pageX - rect.left;\n      var y = e.nativeEvent.changedTouches[0].clientY - rect.top;\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"startRipple\",\n    value: function startRipple(event) {\n      var _this$state = this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n      var _this$props3 = this.props,\n          rippleDuration = _this$props3.rippleDuration,\n          rippleCentered = _this$props3.rippleCentered,\n          rippleSize = _this$props3.rippleSize,\n          onRippleAnimation = _this$props3.onRippleAnimation;\n      var w2 = 0.5 * width;\n      var h2 = 0.5 * height;\n      var _event$nativeEvent = event.nativeEvent,\n          locationX = _event$nativeEvent.locationX,\n          locationY = _event$nativeEvent.locationY;\n\n      if (_reactNative.Platform.OS === 'web') {\n        locationX = this.webGetPositionInElement(event).x;\n        locationY = this.webGetPositionInElement(event).y;\n      }\n\n      if (rippleCentered) {\n        locationX = w2;\n        locationY = h2;\n      }\n\n      var offsetX = Math.abs(w2 - locationX);\n      var offsetY = Math.abs(h2 - locationY);\n      var R = rippleSize > 0 ? 0.5 * rippleSize : Math.sqrt(Math.pow(w2 + offsetX, 2) + Math.pow(h2 + offsetY, 2));\n      var ripple = {\n        unique: this.unique++,\n        progress: new _reactNative.Animated.Value(0),\n        locationX: locationX,\n        locationY: locationY,\n        R: R\n      };\n\n      var animation = _reactNative.Animated.timing(ripple.progress, {\n        toValue: 1,\n        easing: _reactNative.Easing.out(_reactNative.Easing.ease),\n        duration: rippleDuration\n      });\n\n      onRippleAnimation(animation, this.onAnimationEnd);\n      this.setState(function (_ref2) {\n        var ripples = _ref2.ripples;\n        return {\n          ripples: ripples.concat(ripple)\n        };\n      });\n    }\n  }, {\n    key: \"renderRipple\",\n    value: function renderRipple(_ref3) {\n      var unique = _ref3.unique,\n          progress = _ref3.progress,\n          locationX = _ref3.locationX,\n          locationY = _ref3.locationY,\n          R = _ref3.R;\n      var _this$props4 = this.props,\n          rippleColor = _this$props4.rippleColor,\n          rippleOpacity = _this$props4.rippleOpacity;\n      var rippleFades = this.rippleFades;\n      var rippleStyle = {\n        top: locationY - _Ripple.radius,\n        left: locationX - _Ripple.radius,\n        backgroundColor: rippleColor,\n        transform: [{\n          scale: progress.interpolate({\n            inputRange: [0, 1],\n            outputRange: [0.5 / _Ripple.radius, R / _Ripple.radius]\n          })\n        }],\n        opacity: rippleFades ? progress.interpolate({\n          inputRange: [0, 1],\n          outputRange: [rippleOpacity, 0]\n        }) : rippleOpacity\n      };\n      return _react[\"default\"].createElement(_reactNative.Animated.View, {\n        style: [_Ripple[\"default\"].ripple, rippleStyle],\n        key: unique,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var ripples = this.state.ripples;\n      var onPress = this.onPress,\n          onPressIn = this.onPressIn,\n          onPressOut = this.onPressOut,\n          onLongPress = this.onLongPress,\n          onLayout = this.onLayout;\n      var _this$props5 = this.props,\n          delayLongPress = _this$props5.delayLongPress,\n          delayPressIn = _this$props5.delayPressIn,\n          delayPressOut = _this$props5.delayPressOut,\n          disabled = _this$props5.disabled,\n          hitSlop = _this$props5.hitSlop,\n          pressRetentionOffset = _this$props5.pressRetentionOffset,\n          children = _this$props5.children,\n          rippleContainerBorderRadius = _this$props5.rippleContainerBorderRadius,\n          testID = _this$props5.testID,\n          nativeID = _this$props5.nativeID,\n          accessible = _this$props5.accessible,\n          accessibilityLabel = _this$props5.accessibilityLabel,\n          panResponder = _this$props5.panResponder,\n          props = (0, _objectWithoutProperties2[\"default\"])(_this$props5, [\"delayLongPress\", \"delayPressIn\", \"delayPressOut\", \"disabled\", \"hitSlop\", \"pressRetentionOffset\", \"children\", \"rippleContainerBorderRadius\", \"testID\", \"nativeID\", \"accessible\", \"accessibilityLabel\", \"panResponder\"]);\n      var touchableProps = {\n        delayLongPress: delayLongPress,\n        delayPressIn: delayPressIn,\n        delayPressOut: delayPressOut,\n        disabled: disabled,\n        hitSlop: hitSlop,\n        pressRetentionOffset: pressRetentionOffset,\n        onPress: onPress,\n        onPressIn: onPressIn,\n        testID: testID,\n        nativeID: nativeID,\n        accessible: accessible,\n        accessibilityLabel: accessibilityLabel,\n        onPressOut: onPressOut,\n        onLongPress: props.onLongPress ? onLongPress : undefined,\n        onLayout: onLayout\n      };\n      var containerStyle = {\n        borderRadius: rippleContainerBorderRadius\n      };\n      return _react[\"default\"].createElement(_reactNative.TouchableWithoutFeedback, (0, _extends2[\"default\"])({}, touchableProps, panResponder, {\n        testID: testID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        }\n      }), _react[\"default\"].createElement(_reactNative.Animated.View, (0, _extends2[\"default\"])({}, props, {\n        pointerEvents: \"box-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        }\n      }), children, _react[\"default\"].createElement(_reactNative.View, {\n        style: [_Ripple[\"default\"].container, containerStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        }\n      }, ripples.map(this.renderRipple))));\n    }\n  }]);\n  return Ripple;\n}(_react.PureComponent);\n\nexports[\"default\"] = Ripple;\n(0, _defineProperty2[\"default\"])(Ripple, \"defaultProps\", (0, _objectSpread2[\"default\"])({}, _reactNative.TouchableWithoutFeedback.defaultProps, {\n  rippleColor: 'rgba(0, 0, 0, .87)',\n  rippleOpacity: 0.3,\n  rippleDuration: 400,\n  rippleSize: 0,\n  rippleContainerBorderRadius: 0,\n  rippleCentered: false,\n  rippleSequential: false,\n  rippleFades: true,\n  disabled: false,\n  displayUntilPressOut: true,\n  onRippleAnimation: function onRippleAnimation(animation, callback) {\n    return animation.start(callback);\n  },\n  testID: 'mb-ripple'\n}));\n(0, _defineProperty2[\"default\"])(Ripple, \"propTypes\", (0, _objectSpread2[\"default\"])({}, _reactNative.Animated.View.propTypes, _reactNative.TouchableWithoutFeedback.propTypes, {\n  rippleColor: _propTypes[\"default\"].string,\n  rippleOpacity: _propTypes[\"default\"].number,\n  rippleDuration: _propTypes[\"default\"].number,\n  rippleSize: _propTypes[\"default\"].number,\n  rippleContainerBorderRadius: _propTypes[\"default\"].number,\n  rippleCentered: _propTypes[\"default\"].bool,\n  rippleSequential: _propTypes[\"default\"].bool,\n  rippleFades: _propTypes[\"default\"].bool,\n  disabled: _propTypes[\"default\"].bool,\n  displayUntilPressOut: _propTypes[\"default\"].bool,\n  onRippleAnimation: _propTypes[\"default\"].func,\n  testID: _propTypes[\"default\"].string\n}));","map":{"version":3,"sources":["/Users/forte/Downloads/material-bread-next/node_modules/material-bread/dist/Components/Ripple/Ripple.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","value","_objectSpread2","_extends2","_objectWithoutProperties2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_defineProperty2","_propTypes","_react","_reactNative","_Ripple","_jsxFileName","Ripple","_PureComponent","props","_this","call","onLayout","bind","onPress","onPressIn","onPressOut","onLongPress","onAnimationEnd","renderRipple","unique","mounted","rippleFades","displayUntilPressOut","isPressingIn","animationWaitingForEnd","state","width","height","ripples","key","componentDidMount","componentWillUnmount","event","_event$nativeEvent$la","nativeEvent","layout","setState","requestAnimationFrame","_this$props","disabled","startRipple","_this$props2","rippleSequential","length","signalAnimationEnd","forceAnimationEnd","_ref","slice","webGetPositionInElement","e","rect","target","getBoundingClientRect","x","pageX","left","y","changedTouches","clientY","top","_this$state","_this$props3","rippleDuration","rippleCentered","rippleSize","onRippleAnimation","w2","h2","_event$nativeEvent","locationX","locationY","Platform","OS","offsetX","Math","abs","offsetY","R","sqrt","pow","ripple","progress","Animated","Value","animation","timing","toValue","easing","Easing","out","ease","duration","_ref2","concat","_ref3","_this$props4","rippleColor","rippleOpacity","rippleStyle","radius","backgroundColor","transform","scale","interpolate","inputRange","outputRange","opacity","createElement","View","style","__source","fileName","lineNumber","render","_this$props5","delayLongPress","delayPressIn","delayPressOut","hitSlop","pressRetentionOffset","children","rippleContainerBorderRadius","testID","nativeID","accessible","accessibilityLabel","panResponder","touchableProps","undefined","containerStyle","borderRadius","TouchableWithoutFeedback","pointerEvents","container","map","PureComponent","defaultProps","callback","start","propTypes","string","number","bool","func"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _objectSpread2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _propTypes=_interopRequireDefault(require(\"prop-types\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _Ripple=_interopRequireWildcard(require(\"./Ripple.styles\"));var _jsxFileName=\"/Users/codypearce/projects/material-bread/src/Components/Ripple/Ripple.js\";var Ripple=function(_PureComponent){(0,_inherits2.default)(Ripple,_PureComponent);function Ripple(props){var _this;(0,_classCallCheck2.default)(this,Ripple);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Ripple).call(this,props));_this.onLayout=_this.onLayout.bind((0,_assertThisInitialized2.default)(_this));_this.onPress=_this.onPress.bind((0,_assertThisInitialized2.default)(_this));_this.onPressIn=_this.onPressIn.bind((0,_assertThisInitialized2.default)(_this));_this.onPressOut=_this.onPressOut.bind((0,_assertThisInitialized2.default)(_this));_this.onLongPress=_this.onLongPress.bind((0,_assertThisInitialized2.default)(_this));_this.onAnimationEnd=_this.onAnimationEnd.bind((0,_assertThisInitialized2.default)(_this));_this.renderRipple=_this.renderRipple.bind((0,_assertThisInitialized2.default)(_this));_this.unique=0;_this.mounted=false;_this.rippleFades=_this.props.rippleFades&&!_this.props.displayUntilPressOut;_this.isPressingIn=false;_this.animationWaitingForEnd=false;_this.state={width:0,height:0,ripples:[]};return _this;}(0,_createClass2.default)(Ripple,[{key:\"componentDidMount\",value:function componentDidMount(){this.mounted=true;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.mounted=false;}},{key:\"onLayout\",value:function onLayout(event){var _event$nativeEvent$la=event.nativeEvent.layout,width=_event$nativeEvent$la.width,height=_event$nativeEvent$la.height;var onLayout=this.props.onLayout;if('function'===typeof onLayout){onLayout(event);}this.setState({width:width,height:height});}},{key:\"onPress\",value:function onPress(event){var onPress=this.props.onPress;if('function'===typeof onPress){requestAnimationFrame(function(){return onPress(event);});}}},{key:\"onLongPress\",value:function onLongPress(event){var _this$props=this.props,onLongPress=_this$props.onLongPress,disabled=_this$props.disabled;if(disabled)return;if('function'===typeof onLongPress){requestAnimationFrame(function(){return onLongPress(event);});}this.startRipple(event);}},{key:\"onPressIn\",value:function onPressIn(event){var _this$props2=this.props,onPressIn=_this$props2.onPressIn,rippleSequential=_this$props2.rippleSequential,disabled=_this$props2.disabled;var ripples=this.state.ripples;if(disabled)return;this.isPressingIn=true;if(!rippleSequential||!ripples.length){if(onPressIn){onPressIn(event);}this.startRipple(event);}}},{key:\"onPressOut\",value:function onPressOut(event){var onPressOut=this.props.onPressOut;if('function'===typeof onPressOut){onPressOut(event);}this.signalAnimationEnd();this.isPressingIn=false;}},{key:\"onAnimationEnd\",value:function onAnimationEnd(event){if(this.props.displayUntilPressOut&&this.isPressingIn){this.animationWaitingForEnd=true;return;}if(this.props.onAnimationEnd){this.props.onAnimationEnd(event);}this.forceAnimationEnd();}},{key:\"signalAnimationEnd\",value:function signalAnimationEnd(){if(this.animationWaitingForEnd){this.forceAnimationEnd();}}},{key:\"forceAnimationEnd\",value:function forceAnimationEnd(){if(this.mounted){this.setState(function(_ref){var ripples=_ref.ripples;return{ripples:ripples.slice(1)};});}this.animationWaitingForEnd=false;}},{key:\"webGetPositionInElement\",value:function webGetPositionInElement(e){var rect=e.nativeEvent.target.getBoundingClientRect();var x=e.nativeEvent.pageX-rect.left;var y=e.nativeEvent.changedTouches[0].clientY-rect.top;return{x:x,y:y};}},{key:\"startRipple\",value:function startRipple(event){var _this$state=this.state,width=_this$state.width,height=_this$state.height;var _this$props3=this.props,rippleDuration=_this$props3.rippleDuration,rippleCentered=_this$props3.rippleCentered,rippleSize=_this$props3.rippleSize,onRippleAnimation=_this$props3.onRippleAnimation;var w2=0.5*width;var h2=0.5*height;var _event$nativeEvent=event.nativeEvent,locationX=_event$nativeEvent.locationX,locationY=_event$nativeEvent.locationY;if(_reactNative.Platform.OS==='web'){locationX=this.webGetPositionInElement(event).x;locationY=this.webGetPositionInElement(event).y;}if(rippleCentered){locationX=w2;locationY=h2;}var offsetX=Math.abs(w2-locationX);var offsetY=Math.abs(h2-locationY);var R=rippleSize>0?0.5*rippleSize:Math.sqrt(Math.pow(w2+offsetX,2)+Math.pow(h2+offsetY,2));var ripple={unique:this.unique++,progress:new _reactNative.Animated.Value(0),locationX:locationX,locationY:locationY,R:R};var animation=_reactNative.Animated.timing(ripple.progress,{toValue:1,easing:_reactNative.Easing.out(_reactNative.Easing.ease),duration:rippleDuration});onRippleAnimation(animation,this.onAnimationEnd);this.setState(function(_ref2){var ripples=_ref2.ripples;return{ripples:ripples.concat(ripple)};});}},{key:\"renderRipple\",value:function renderRipple(_ref3){var unique=_ref3.unique,progress=_ref3.progress,locationX=_ref3.locationX,locationY=_ref3.locationY,R=_ref3.R;var _this$props4=this.props,rippleColor=_this$props4.rippleColor,rippleOpacity=_this$props4.rippleOpacity;var rippleFades=this.rippleFades;var rippleStyle={top:locationY-_Ripple.radius,left:locationX-_Ripple.radius,backgroundColor:rippleColor,transform:[{scale:progress.interpolate({inputRange:[0,1],outputRange:[0.5/_Ripple.radius,R/_Ripple.radius]})}],opacity:rippleFades?progress.interpolate({inputRange:[0,1],outputRange:[rippleOpacity,0]}):rippleOpacity};return _react.default.createElement(_reactNative.Animated.View,{style:[_Ripple.default.ripple,rippleStyle],key:unique,__source:{fileName:_jsxFileName,lineNumber:249}});}},{key:\"render\",value:function render(){var ripples=this.state.ripples;var onPress=this.onPress,onPressIn=this.onPressIn,onPressOut=this.onPressOut,onLongPress=this.onLongPress,onLayout=this.onLayout;var _this$props5=this.props,delayLongPress=_this$props5.delayLongPress,delayPressIn=_this$props5.delayPressIn,delayPressOut=_this$props5.delayPressOut,disabled=_this$props5.disabled,hitSlop=_this$props5.hitSlop,pressRetentionOffset=_this$props5.pressRetentionOffset,children=_this$props5.children,rippleContainerBorderRadius=_this$props5.rippleContainerBorderRadius,testID=_this$props5.testID,nativeID=_this$props5.nativeID,accessible=_this$props5.accessible,accessibilityLabel=_this$props5.accessibilityLabel,panResponder=_this$props5.panResponder,props=(0,_objectWithoutProperties2.default)(_this$props5,[\"delayLongPress\",\"delayPressIn\",\"delayPressOut\",\"disabled\",\"hitSlop\",\"pressRetentionOffset\",\"children\",\"rippleContainerBorderRadius\",\"testID\",\"nativeID\",\"accessible\",\"accessibilityLabel\",\"panResponder\"]);var touchableProps={delayLongPress:delayLongPress,delayPressIn:delayPressIn,delayPressOut:delayPressOut,disabled:disabled,hitSlop:hitSlop,pressRetentionOffset:pressRetentionOffset,onPress:onPress,onPressIn:onPressIn,testID:testID,nativeID:nativeID,accessible:accessible,accessibilityLabel:accessibilityLabel,onPressOut:onPressOut,onLongPress:props.onLongPress?onLongPress:undefined,onLayout:onLayout};var containerStyle={borderRadius:rippleContainerBorderRadius};return _react.default.createElement(_reactNative.TouchableWithoutFeedback,(0,_extends2.default)({},touchableProps,panResponder,{testID:testID,__source:{fileName:_jsxFileName,lineNumber:295}}),_react.default.createElement(_reactNative.Animated.View,(0,_extends2.default)({},props,{pointerEvents:\"box-only\",__source:{fileName:_jsxFileName,lineNumber:299}}),children,_react.default.createElement(_reactNative.View,{style:[_Ripple.default.container,containerStyle],__source:{fileName:_jsxFileName,lineNumber:301}},ripples.map(this.renderRipple))));}}]);return Ripple;}(_react.PureComponent);exports.default=Ripple;(0,_defineProperty2.default)(Ripple,\"defaultProps\",(0,_objectSpread2.default)({},_reactNative.TouchableWithoutFeedback.defaultProps,{rippleColor:'rgba(0, 0, 0, .87)',rippleOpacity:0.3,rippleDuration:400,rippleSize:0,rippleContainerBorderRadius:0,rippleCentered:false,rippleSequential:false,rippleFades:true,disabled:false,displayUntilPressOut:true,onRippleAnimation:function onRippleAnimation(animation,callback){return animation.start(callback);},testID:'mb-ripple'}));(0,_defineProperty2.default)(Ripple,\"propTypes\",(0,_objectSpread2.default)({},_reactNative.Animated.View.propTypes,_reactNative.TouchableWithoutFeedback.propTypes,{rippleColor:_propTypes.default.string,rippleOpacity:_propTypes.default.number,rippleDuration:_propTypes.default.number,rippleSize:_propTypes.default.number,rippleContainerBorderRadius:_propTypes.default.number,rippleCentered:_propTypes.default.bool,rippleSequential:_propTypes.default.bool,rippleFades:_propTypes.default.bool,disabled:_propTypes.default.bool,displayUntilPressOut:_propTypes.default.bool,onRippleAnimation:_propTypes.default.func,testID:_propTypes.default.string}));"]},"metadata":{},"sourceType":"script"}