{"ast":null,"code":"var _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _Portal = _interopRequireDefault(require(\"./Portal\"));\n\nvar ariaAppHider = _interopRequireWildcard(require(\"./ariaAppHider\"));\n\nvar _utils = require(\"./utils\");\n\nvar _ModalMenu = _interopRequireDefault(require(\"./ModalMenu.styles\"));\n\nvar _jsxFileName = \"/Users/codypearce/projects/material-bread/src/Components/Menu/ModalMenu/index.web.js\";\nvar ariaHiddenInstances = 0;\n\nvar Modal = function (_Component) {\n  (0, _inherits2[\"default\"])(Modal, _Component);\n  (0, _createClass2[\"default\"])(Modal, null, [{\n    key: \"setAppElement\",\n    value: function setAppElement(element) {\n      ariaAppHider.setElement(element);\n    }\n  }]);\n\n  function Modal(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Modal);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Modal).call(this, props));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"animateFadeIn\", function (callback) {\n      if (_this.state.animationFade) {\n        _this.state.animationFade.stop();\n      }\n\n      var animationFade = _reactNative.Animated.timing(_this.state.opacityFade, {\n        toValue: 1,\n        duration: 300\n      });\n\n      _this.setState({\n        animationFade: animationFade\n      }, function () {\n        requestAnimationFrame(function () {\n          _this.setState({\n            styleFade: {\n              display: 'flex'\n            }\n          }, function () {\n            return _this.state.animationFade.start(callback);\n          });\n        });\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"animateFadeOut\", function (callback) {\n      if (_this.state.animationFade) {\n        _this.state.animationFade.stop();\n      }\n\n      var animationFade = _reactNative.Animated.timing(_this.state.opacityFade, {\n        toValue: 0,\n        duration: 300\n      });\n\n      _this.setState({\n        animationFade: animationFade\n      }, function () {\n        requestAnimationFrame(function () {\n          _this.state.animationFade.start(function () {\n            _this.setState({\n              styleFade: {\n                display: 'none'\n              }\n            }, callback);\n          });\n        });\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"animateSlideIn\", function (callback) {\n      if (_this.state.animationSlide) {\n        _this.state.animationSlide.stop();\n      }\n\n      var animationSlide = _reactNative.Animated.timing(_this.state.slideTranslation, {\n        toValue: 1,\n        easing: _reactNative.Easing.out(_reactNative.Easing.poly(4)),\n        duration: 300\n      });\n\n      _this.setState({\n        animationSlide: animationSlide\n      }, function () {\n        requestAnimationFrame(function () {\n          _this.setState({\n            styleFade: {\n              display: 'flex'\n            }\n          }, function () {\n            return _this.state.animationSlide.start(callback);\n          });\n        });\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"animateSlideOut\", function (callback) {\n      if (_this.state.animationSlide) {\n        _this.state.animationSlide.stop();\n      }\n\n      var animationSlide = _reactNative.Animated.timing(_this.state.slideTranslation, {\n        toValue: 0,\n        easing: _reactNative.Easing[\"in\"](_reactNative.Easing.poly(4)),\n        duration: 300\n      });\n\n      _this.setState({\n        animationSlide: animationSlide\n      }, function () {\n        requestAnimationFrame(function () {\n          _this.state.animationSlide.start(function () {\n            _this.setState({\n              styleFade: {\n                display: 'none'\n              }\n            }, callback);\n          });\n        });\n      });\n    });\n    _this.state = {\n      animationSlide: null,\n      animationFade: null,\n      styleFade: {\n        display: props.visible ? 'flex' : 'none'\n      },\n      opacityFade: new _reactNative.Animated.Value(0),\n      slideTranslation: new _reactNative.Animated.Value(0)\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Modal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.visible) this.handleShow();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.visible && !this.props.visible) this.handleShow();\n      if (!prevProps.visible && this.props.visible) this.handleClose();\n    }\n  }, {\n    key: \"handleShow\",\n    value: function handleShow() {\n      var _this$props = this.props,\n          animationType = _this$props.animationType,\n          onShow = _this$props.onShow,\n          ariaHideApp = _this$props.ariaHideApp,\n          appElement = _this$props.appElement;\n\n      if (ariaHideApp) {\n        ariaHiddenInstances += 1;\n        ariaAppHider.hide(appElement);\n      }\n\n      if (animationType === 'slide') {\n        this.animateSlideIn(onShow);\n      } else if (animationType === 'fade') {\n        this.animateFadeIn(onShow);\n      } else {\n        onShow();\n      }\n    }\n  }, {\n    key: \"handleClose\",\n    value: function handleClose() {\n      var _this$props2 = this.props,\n          animationType = _this$props2.animationType,\n          onDismiss = _this$props2.onDismiss,\n          ariaHideApp = _this$props2.ariaHideApp,\n          appElement = _this$props2.appElement;\n\n      if (animationType === 'slide') {\n        this.animateSlideOut(onDismiss);\n      } else if (animationType === 'fade') {\n        this.animateFadeOut(onDismiss);\n      } else {\n        onDismiss();\n      }\n\n      if (ariaHideApp && ariaHiddenInstances > 0) {\n        ariaHiddenInstances -= 1;\n\n        if (ariaHiddenInstances === 0) {\n          ariaAppHider.show(appElement);\n        }\n      }\n    }\n  }, {\n    key: \"getAnimationStyle\",\n    value: function getAnimationStyle() {\n      var _this$props3 = this.props,\n          visible = _this$props3.visible,\n          animationType = _this$props3.animationType;\n      var styleFade = this.state.styleFade;\n\n      if (animationType === 'slide') {\n        return [{\n          transform: [{\n            translateY: this.state.slideTranslation.interpolate({\n              inputRange: [0, 1],\n              outputRange: [_reactNative.Dimensions.get('window').height, 0],\n              extrapolate: 'clamp'\n            })\n          }]\n        }, styleFade];\n      }\n\n      if (animationType === 'fade') {\n        return [{\n          opacity: this.state.opacityFade\n        }, styleFade];\n      }\n\n      return [_ModalMenu[\"default\"][visible ? 'visible' : 'hidden']];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          containerStyle = _this$props4.containerStyle,\n          onBackdropPress = _this$props4.onBackdropPress,\n          children = _this$props4.children,\n          visible = _this$props4.visible,\n          onLayout = _this$props4.onLayout,\n          noBackDrop = _this$props4.noBackDrop;\n      return _react[\"default\"].createElement(_Portal[\"default\"], {\n        visible: visible,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        }\n      }, _react[\"default\"].createElement(_reactNative.Animated.View, {\n        onLayout: onLayout,\n        \"aria-modal\": \"true\",\n        style: [_ModalMenu[\"default\"].container, {\n          height: '100%',\n          width: '100%',\n          zIndex: visible ? 10 : -10\n        }, containerStyle],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        }\n      }, noBackDrop ? null : _react[\"default\"].createElement(_reactNative.TouchableWithoutFeedback, {\n        onPress: onBackdropPress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        }\n      }, _react[\"default\"].createElement(_reactNative.View, {\n        style: {\n          height: visible ? '100%' : 0,\n          width: visible ? '100%' : 0,\n          position: 'fixed',\n          top: 0,\n          zIndex: visible ? 10 : -10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        }\n      })), children));\n    }\n  }]);\n  return Modal;\n}(_react.Component);\n\nexports[\"default\"] = Modal;\n(0, _defineProperty2[\"default\"])(Modal, \"propTypes\", {\n  animationType: _propTypes[\"default\"].oneOf(['none', 'slide', 'fade']),\n  transparent: _propTypes[\"default\"].bool,\n  visible: _propTypes[\"default\"].bool,\n  onRequestClose: _reactNative.Platform.isTV || _reactNative.Platform.OS === 'android' ? _propTypes[\"default\"].func.isRequired : _propTypes[\"default\"].func,\n  onShow: _propTypes[\"default\"].func,\n  onDismiss: _propTypes[\"default\"].func,\n  children: _propTypes[\"default\"].node.isRequired,\n  ariaHideApp: _propTypes[\"default\"].bool,\n  appElement: _propTypes[\"default\"].instanceOf(_utils.SafeHTMLElement),\n  containerStyle: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].array]),\n  onBackdropPress: _propTypes[\"default\"].func,\n  onLayout: _propTypes[\"default\"].func,\n  noBackDrop: _propTypes[\"default\"].bool\n});\n(0, _defineProperty2[\"default\"])(Modal, \"defaultProps\", {\n  animationType: 'none',\n  transparent: false,\n  visible: true,\n  onShow: function onShow() {},\n  onRequestClose: function onRequestClose() {},\n  onDismiss: function onDismiss() {},\n  ariaHideApp: true,\n  appElement: null\n});","map":{"version":3,"sources":["/Users/forte/Downloads/material-bread-next/node_modules/material-bread/dist/Components/Menu/ModalMenu/index.web.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","value","_classCallCheck2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_createClass2","_inherits2","_defineProperty2","_react","_propTypes","_reactNative","_Portal","ariaAppHider","_utils","_ModalMenu","_jsxFileName","ariaHiddenInstances","Modal","_Component","key","setAppElement","element","setElement","props","_this","call","callback","state","animationFade","stop","Animated","timing","opacityFade","toValue","duration","setState","requestAnimationFrame","styleFade","display","start","animationSlide","slideTranslation","easing","Easing","out","poly","visible","Value","componentDidMount","handleShow","componentDidUpdate","prevProps","handleClose","_this$props","animationType","onShow","ariaHideApp","appElement","hide","animateSlideIn","animateFadeIn","_this$props2","onDismiss","animateSlideOut","animateFadeOut","show","getAnimationStyle","_this$props3","transform","translateY","interpolate","inputRange","outputRange","Dimensions","get","height","extrapolate","opacity","render","_this$props4","containerStyle","onBackdropPress","children","onLayout","noBackDrop","createElement","__source","fileName","lineNumber","View","style","container","width","zIndex","TouchableWithoutFeedback","onPress","position","top","Component","oneOf","transparent","bool","onRequestClose","Platform","isTV","OS","func","isRequired","node","instanceOf","SafeHTMLElement","oneOfType","object","array"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _react=_interopRequireWildcard(require(\"react\"));var _propTypes=_interopRequireDefault(require(\"prop-types\"));var _reactNative=require(\"react-native\");var _Portal=_interopRequireDefault(require(\"./Portal\"));var ariaAppHider=_interopRequireWildcard(require(\"./ariaAppHider\"));var _utils=require(\"./utils\");var _ModalMenu=_interopRequireDefault(require(\"./ModalMenu.styles\"));var _jsxFileName=\"/Users/codypearce/projects/material-bread/src/Components/Menu/ModalMenu/index.web.js\";var ariaHiddenInstances=0;var Modal=function(_Component){(0,_inherits2.default)(Modal,_Component);(0,_createClass2.default)(Modal,null,[{key:\"setAppElement\",value:function setAppElement(element){ariaAppHider.setElement(element);}}]);function Modal(props){var _this;(0,_classCallCheck2.default)(this,Modal);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Modal).call(this,props));(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),\"animateFadeIn\",function(callback){if(_this.state.animationFade){_this.state.animationFade.stop();}var animationFade=_reactNative.Animated.timing(_this.state.opacityFade,{toValue:1,duration:300});_this.setState({animationFade:animationFade},function(){requestAnimationFrame(function(){_this.setState({styleFade:{display:'flex'}},function(){return _this.state.animationFade.start(callback);});});});});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),\"animateFadeOut\",function(callback){if(_this.state.animationFade){_this.state.animationFade.stop();}var animationFade=_reactNative.Animated.timing(_this.state.opacityFade,{toValue:0,duration:300});_this.setState({animationFade:animationFade},function(){requestAnimationFrame(function(){_this.state.animationFade.start(function(){_this.setState({styleFade:{display:'none'}},callback);});});});});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),\"animateSlideIn\",function(callback){if(_this.state.animationSlide){_this.state.animationSlide.stop();}var animationSlide=_reactNative.Animated.timing(_this.state.slideTranslation,{toValue:1,easing:_reactNative.Easing.out(_reactNative.Easing.poly(4)),duration:300});_this.setState({animationSlide:animationSlide},function(){requestAnimationFrame(function(){_this.setState({styleFade:{display:'flex'}},function(){return _this.state.animationSlide.start(callback);});});});});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),\"animateSlideOut\",function(callback){if(_this.state.animationSlide){_this.state.animationSlide.stop();}var animationSlide=_reactNative.Animated.timing(_this.state.slideTranslation,{toValue:0,easing:_reactNative.Easing.in(_reactNative.Easing.poly(4)),duration:300});_this.setState({animationSlide:animationSlide},function(){requestAnimationFrame(function(){_this.state.animationSlide.start(function(){_this.setState({styleFade:{display:'none'}},callback);});});});});_this.state={animationSlide:null,animationFade:null,styleFade:{display:props.visible?'flex':'none'},opacityFade:new _reactNative.Animated.Value(0),slideTranslation:new _reactNative.Animated.Value(0)};return _this;}(0,_createClass2.default)(Modal,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.visible)this.handleShow();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.visible&&!this.props.visible)this.handleShow();if(!prevProps.visible&&this.props.visible)this.handleClose();}},{key:\"handleShow\",value:function handleShow(){var _this$props=this.props,animationType=_this$props.animationType,onShow=_this$props.onShow,ariaHideApp=_this$props.ariaHideApp,appElement=_this$props.appElement;if(ariaHideApp){ariaHiddenInstances+=1;ariaAppHider.hide(appElement);}if(animationType==='slide'){this.animateSlideIn(onShow);}else if(animationType==='fade'){this.animateFadeIn(onShow);}else{onShow();}}},{key:\"handleClose\",value:function handleClose(){var _this$props2=this.props,animationType=_this$props2.animationType,onDismiss=_this$props2.onDismiss,ariaHideApp=_this$props2.ariaHideApp,appElement=_this$props2.appElement;if(animationType==='slide'){this.animateSlideOut(onDismiss);}else if(animationType==='fade'){this.animateFadeOut(onDismiss);}else{onDismiss();}if(ariaHideApp&&ariaHiddenInstances>0){ariaHiddenInstances-=1;if(ariaHiddenInstances===0){ariaAppHider.show(appElement);}}}},{key:\"getAnimationStyle\",value:function getAnimationStyle(){var _this$props3=this.props,visible=_this$props3.visible,animationType=_this$props3.animationType;var styleFade=this.state.styleFade;if(animationType==='slide'){return[{transform:[{translateY:this.state.slideTranslation.interpolate({inputRange:[0,1],outputRange:[_reactNative.Dimensions.get('window').height,0],extrapolate:'clamp'})}]},styleFade];}if(animationType==='fade'){return[{opacity:this.state.opacityFade},styleFade];}return[_ModalMenu.default[visible?'visible':'hidden']];}},{key:\"render\",value:function render(){var _this$props4=this.props,containerStyle=_this$props4.containerStyle,onBackdropPress=_this$props4.onBackdropPress,children=_this$props4.children,visible=_this$props4.visible,onLayout=_this$props4.onLayout,noBackDrop=_this$props4.noBackDrop;return _react.default.createElement(_Portal.default,{visible:visible,__source:{fileName:_jsxFileName,lineNumber:261}},_react.default.createElement(_reactNative.Animated.View,{onLayout:onLayout,\"aria-modal\":\"true\",style:[_ModalMenu.default.container,{height:'100%',width:'100%',zIndex:visible?10:-10},containerStyle],__source:{fileName:_jsxFileName,lineNumber:262}},noBackDrop?null:_react.default.createElement(_reactNative.TouchableWithoutFeedback,{onPress:onBackdropPress,__source:{fileName:_jsxFileName,lineNumber:275}},_react.default.createElement(_reactNative.View,{style:{height:visible?'100%':0,width:visible?'100%':0,position:'fixed',top:0,zIndex:visible?10:-10},__source:{fileName:_jsxFileName,lineNumber:276}})),children));}}]);return Modal;}(_react.Component);exports.default=Modal;(0,_defineProperty2.default)(Modal,\"propTypes\",{animationType:_propTypes.default.oneOf(['none','slide','fade']),transparent:_propTypes.default.bool,visible:_propTypes.default.bool,onRequestClose:_reactNative.Platform.isTV||_reactNative.Platform.OS==='android'?_propTypes.default.func.isRequired:_propTypes.default.func,onShow:_propTypes.default.func,onDismiss:_propTypes.default.func,children:_propTypes.default.node.isRequired,ariaHideApp:_propTypes.default.bool,appElement:_propTypes.default.instanceOf(_utils.SafeHTMLElement),containerStyle:_propTypes.default.oneOfType([_propTypes.default.object,_propTypes.default.array]),onBackdropPress:_propTypes.default.func,onLayout:_propTypes.default.func,noBackDrop:_propTypes.default.bool});(0,_defineProperty2.default)(Modal,\"defaultProps\",{animationType:'none',transparent:false,visible:true,onShow:function onShow(){},onRequestClose:function onRequestClose(){},onDismiss:function onDismiss(){},ariaHideApp:true,appElement:null});"]},"metadata":{},"sourceType":"script"}