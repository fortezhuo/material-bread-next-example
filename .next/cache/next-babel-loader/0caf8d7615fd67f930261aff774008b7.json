{"ast":null,"code":"var _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _SheetBottom = _interopRequireDefault(require(\"./SheetBottom.styles\"));\n\nvar _modalEnhancedReactNativeWeb = _interopRequireDefault(require(\"modal-enhanced-react-native-web\"));\n\nvar _jsxFileName = \"/Users/codypearce/projects/material-bread/src/Components/SheetBottom/SheetBottom.web.js\";\n\nvar SheetBottom = function (_Component) {\n  (0, _inherits2.default)(SheetBottom, _Component);\n\n  function SheetBottom(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, SheetBottom);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(SheetBottom).call(this, props));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"state\", {\n      internalVisible: false,\n      pan: new _reactNative.Animated.ValueXY(),\n      initialHeight: 0,\n      initialWidth: 0,\n      fullHeight: 0\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onMenuLayout\", function (e) {\n      var _this$state = _this.state,\n          pan = _this$state.pan,\n          initialHeight = _this$state.initialHeight,\n          fullHeight = _this$state.fullHeight;\n      var _e$nativeEvent$layout = e.nativeEvent.layout,\n          width = _e$nativeEvent$layout.width,\n          height = _e$nativeEvent$layout.height;\n      if (height == 0) return;\n      if (height <= initialHeight) return;\n\n      _this.setState({\n        initialWidth: width,\n        initialHeight: height\n      }, function () {\n        pan.setValue({\n          x: 0,\n          y: fullHeight\n        });\n\n        _this.createPanResponder(_this.props);\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"createPanResponder\", function () {\n      var _this$props = _this.props,\n          onSwipeDown = _this$props.onSwipeDown,\n          onSwipeUp = _this$props.onSwipeUp,\n          cardVerticalPadding = _this$props.cardVerticalPadding;\n      var _this$state2 = _this.state,\n          pan = _this$state2.pan,\n          initialHeight = _this$state2.initialHeight,\n          fullHeight = _this$state2.fullHeight;\n      _this.panResponder = _reactNative.PanResponder.create({\n        onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n          return true;\n        },\n        onPanResponderMove: function onPanResponderMove(e, gestureState) {\n          if (gestureState.dy < 80 && gestureState.dy > -40) {\n            _reactNative.Animated.timing(pan, {\n              toValue: {\n                x: 0,\n                y: fullHeight - initialHeight - cardVerticalPadding + gestureState.dy\n              },\n              duration: 0\n            }).start();\n          }\n        },\n        onPanResponderRelease: function onPanResponderRelease(e, gestureState) {\n          if (initialHeight / 4 - gestureState.dy < 0) {\n            if (onSwipeDown) onSwipeDown();\n          } else if (initialHeight / 4 + gestureState.dy > 0) {\n            if (onSwipeUp) onSwipeUp();\n          }\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"_close\", function () {\n      _this.animateSheet(false);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"_onBackdropPress\", function () {\n      var onBackdropPress = _this.props.onBackdropPress;\n      if (onBackdropPress) onBackdropPress();\n    });\n\n    _this.createPanResponder(_this.props);\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(SheetBottom, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props2 = this.props,\n          visible = _this$props2.visible,\n          pageHeight = _this$props2.pageHeight;\n      var pan = this.state.pan;\n\n      if (visible) {\n        this._open();\n      }\n\n      var fullHeight = pageHeight ? pageHeight : _reactNative.Dimensions.get('window').height;\n      this.createPanResponder(this.props);\n      pan.setValue({\n        x: 0,\n        y: fullHeight\n      });\n      this.setState({\n        fullHeight: fullHeight\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var visible = this.props.visible;\n\n      if (visible != prevProps.visible) {\n        if (visible) {\n          this._open();\n        } else {\n          this._close();\n        }\n      }\n    }\n  }, {\n    key: \"animateSheet\",\n    value: function animateSheet(visible) {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          cardVerticalPadding = _this$props3.cardVerticalPadding,\n          duration = _this$props3.duration;\n      var _this$state3 = this.state,\n          initialHeight = _this$state3.initialHeight,\n          fullHeight = _this$state3.fullHeight,\n          pan = _this$state3.pan;\n\n      if (visible) {\n        this.setState({\n          internalVisible: true\n        }, function () {\n          if (initialHeight == 0) {\n            setTimeout(function () {\n              return _this2.animateSheet(true);\n            }, 100);\n            return;\n          }\n\n          _reactNative.Animated.spring(pan, {\n            toValue: {\n              x: 0,\n              y: fullHeight - initialHeight - cardVerticalPadding\n            }\n          }).start();\n        });\n      } else {\n        _reactNative.Animated.timing(pan, {\n          toValue: {\n            x: 0,\n            y: fullHeight\n          },\n          duration: duration\n        }).start(function () {\n          _this2.setState({\n            internalVisible: false\n          });\n        });\n      }\n    }\n  }, {\n    key: \"_open\",\n    value: function _open() {\n      this.animateSheet(true);\n    }\n  }, {\n    key: \"_handlePlatform\",\n    value: function _handlePlatform() {\n      var internalVisible = this.state.internalVisible;\n\n      if (_reactNative.Platform.OS == 'web') {\n        return _react.default.createElement(_modalEnhancedReactNativeWeb.default, {\n          transparent: true,\n          animationType: 'none',\n          visible: internalVisible,\n          onRequestClose: this._close,\n          style: {\n            margin: 0\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          }\n        }, this._renderContent());\n      } else {\n        return _react.default.createElement(_reactNative.Modal, {\n          transparent: true,\n          animationType: 'none',\n          visible: internalVisible,\n          onRequestClose: this._close,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          }\n        }, this._renderContent());\n      }\n    }\n  }, {\n    key: \"_renderContent\",\n    value: function _renderContent() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          wrapperStyles = _this$props4.wrapperStyles,\n          style = _this$props4.style,\n          cardVerticalPadding = _this$props4.cardVerticalPadding,\n          testID = _this$props4.testID;\n      var _this$state4 = this.state,\n          pan = _this$state4.pan,\n          fullHeight = _this$state4.fullHeight;\n      return _react.default.createElement(_reactNative.View, {\n        style: [_SheetBottom.default.wrapper, wrapperStyles],\n        testID: testID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: _SheetBottom.default.mask,\n        activeOpacity: 1,\n        onPress: this._onBackdropPress,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        }\n      }), _react.default.createElement(_reactNative.Animated.View, (0, _extends2.default)({}, this.panResponder.panHandlers, {\n        style: [_SheetBottom.default.container, style, {\n          height: fullHeight,\n          paddingVertical: cardVerticalPadding,\n          transform: [{\n            translateY: pan.y\n          }]\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        }\n      }), _react.default.createElement(_reactNative.View, {\n        onLayout: this.onMenuLayout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        }\n      }, children)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this._handlePlatform();\n    }\n  }]);\n  return SheetBottom;\n}(_react.Component);\n\n(0, _defineProperty2.default)(SheetBottom, \"propTypes\", {\n  duration: _propTypes.default.number,\n  onBackdropPress: _propTypes.default.func,\n  onSwipeDown: _propTypes.default.func,\n  onSwipeUp: _propTypes.default.func,\n  children: _propTypes.default.node,\n  wrapperStyles: _propTypes.default.object,\n  style: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.array]),\n  visible: _propTypes.default.bool,\n  cardVerticalPadding: _propTypes.default.number,\n  pageHeight: _propTypes.default.number,\n  testID: _propTypes.default.string\n});\n(0, _defineProperty2.default)(SheetBottom, \"defaultProps\", {\n  duration: 200,\n  cardVerticalPadding: 20\n});\nvar _default = SheetBottom;\nexports.default = _default;","map":{"version":3,"sources":["/Users/forte/Downloads/material-bread-next/node_modules/material-bread/dist/Components/SheetBottom/SheetBottom.web.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","exports","value","default","_extends2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_defineProperty2","_react","_propTypes","_reactNative","_SheetBottom","_modalEnhancedReactNativeWeb","_jsxFileName","SheetBottom","_Component","props","_this","call","internalVisible","pan","Animated","ValueXY","initialHeight","initialWidth","fullHeight","e","_this$state","state","_e$nativeEvent$layout","nativeEvent","layout","width","height","setState","setValue","x","y","createPanResponder","_this$props","onSwipeDown","onSwipeUp","cardVerticalPadding","_this$state2","panResponder","PanResponder","create","onStartShouldSetPanResponder","onPanResponderMove","gestureState","dy","timing","toValue","duration","start","onPanResponderRelease","animateSheet","onBackdropPress","key","componentDidMount","_this$props2","visible","pageHeight","_open","Dimensions","get","componentDidUpdate","prevProps","_close","_this2","_this$props3","_this$state3","setTimeout","spring","_handlePlatform","Platform","OS","createElement","transparent","animationType","onRequestClose","style","margin","__source","fileName","lineNumber","_renderContent","Modal","_this$props4","children","wrapperStyles","testID","_this$state4","View","wrapper","TouchableOpacity","mask","activeOpacity","onPress","_onBackdropPress","panHandlers","container","paddingVertical","transform","translateY","onLayout","onMenuLayout","render","Component","number","func","node","object","oneOfType","array","bool","string","_default"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _assertThisInitialized2=_interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _react=_interopRequireWildcard(require(\"react\"));var _propTypes=_interopRequireDefault(require(\"prop-types\"));var _reactNative=require(\"react-native\");var _SheetBottom=_interopRequireDefault(require(\"./SheetBottom.styles\"));var _modalEnhancedReactNativeWeb=_interopRequireDefault(require(\"modal-enhanced-react-native-web\"));var _jsxFileName=\"/Users/codypearce/projects/material-bread/src/Components/SheetBottom/SheetBottom.web.js\";var SheetBottom=function(_Component){(0,_inherits2.default)(SheetBottom,_Component);function SheetBottom(props){var _this;(0,_classCallCheck2.default)(this,SheetBottom);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(SheetBottom).call(this,props));(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),\"state\",{internalVisible:false,pan:new _reactNative.Animated.ValueXY(),initialHeight:0,initialWidth:0,fullHeight:0});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),\"onMenuLayout\",function(e){var _this$state=_this.state,pan=_this$state.pan,initialHeight=_this$state.initialHeight,fullHeight=_this$state.fullHeight;var _e$nativeEvent$layout=e.nativeEvent.layout,width=_e$nativeEvent$layout.width,height=_e$nativeEvent$layout.height;if(height==0)return;if(height<=initialHeight)return;_this.setState({initialWidth:width,initialHeight:height},function(){pan.setValue({x:0,y:fullHeight});_this.createPanResponder(_this.props);});});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),\"createPanResponder\",function(){var _this$props=_this.props,onSwipeDown=_this$props.onSwipeDown,onSwipeUp=_this$props.onSwipeUp,cardVerticalPadding=_this$props.cardVerticalPadding;var _this$state2=_this.state,pan=_this$state2.pan,initialHeight=_this$state2.initialHeight,fullHeight=_this$state2.fullHeight;_this.panResponder=_reactNative.PanResponder.create({onStartShouldSetPanResponder:function onStartShouldSetPanResponder(){return true;},onPanResponderMove:function onPanResponderMove(e,gestureState){if(gestureState.dy<80&&gestureState.dy>-40){_reactNative.Animated.timing(pan,{toValue:{x:0,y:fullHeight-initialHeight-cardVerticalPadding+gestureState.dy},duration:0}).start();}},onPanResponderRelease:function onPanResponderRelease(e,gestureState){if(initialHeight/4-gestureState.dy<0){if(onSwipeDown)onSwipeDown();}else if(initialHeight/4+gestureState.dy>0){if(onSwipeUp)onSwipeUp();}}});});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),\"_close\",function(){_this.animateSheet(false);});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),\"_onBackdropPress\",function(){var onBackdropPress=_this.props.onBackdropPress;if(onBackdropPress)onBackdropPress();});_this.createPanResponder(_this.props);return _this;}(0,_createClass2.default)(SheetBottom,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props2=this.props,visible=_this$props2.visible,pageHeight=_this$props2.pageHeight;var pan=this.state.pan;if(visible){this._open();}var fullHeight=pageHeight?pageHeight:_reactNative.Dimensions.get('window').height;this.createPanResponder(this.props);pan.setValue({x:0,y:fullHeight});this.setState({fullHeight:fullHeight});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var visible=this.props.visible;if(visible!=prevProps.visible){if(visible){this._open();}else{this._close();}}}},{key:\"animateSheet\",value:function animateSheet(visible){var _this2=this;var _this$props3=this.props,cardVerticalPadding=_this$props3.cardVerticalPadding,duration=_this$props3.duration;var _this$state3=this.state,initialHeight=_this$state3.initialHeight,fullHeight=_this$state3.fullHeight,pan=_this$state3.pan;if(visible){this.setState({internalVisible:true},function(){if(initialHeight==0){setTimeout(function(){return _this2.animateSheet(true);},100);return;}_reactNative.Animated.spring(pan,{toValue:{x:0,y:fullHeight-initialHeight-cardVerticalPadding}}).start();});}else{_reactNative.Animated.timing(pan,{toValue:{x:0,y:fullHeight},duration:duration}).start(function(){_this2.setState({internalVisible:false});});}}},{key:\"_open\",value:function _open(){this.animateSheet(true);}},{key:\"_handlePlatform\",value:function _handlePlatform(){var internalVisible=this.state.internalVisible;if(_reactNative.Platform.OS=='web'){return _react.default.createElement(_modalEnhancedReactNativeWeb.default,{transparent:true,animationType:'none',visible:internalVisible,onRequestClose:this._close,style:{margin:0},__source:{fileName:_jsxFileName,lineNumber:171}},this._renderContent());}else{return _react.default.createElement(_reactNative.Modal,{transparent:true,animationType:'none',visible:internalVisible,onRequestClose:this._close,__source:{fileName:_jsxFileName,lineNumber:182}},this._renderContent());}}},{key:\"_renderContent\",value:function _renderContent(){var _this$props4=this.props,children=_this$props4.children,wrapperStyles=_this$props4.wrapperStyles,style=_this$props4.style,cardVerticalPadding=_this$props4.cardVerticalPadding,testID=_this$props4.testID;var _this$state4=this.state,pan=_this$state4.pan,fullHeight=_this$state4.fullHeight;return _react.default.createElement(_reactNative.View,{style:[_SheetBottom.default.wrapper,wrapperStyles],testID:testID,__source:{fileName:_jsxFileName,lineNumber:204}},_react.default.createElement(_reactNative.TouchableOpacity,{style:_SheetBottom.default.mask,activeOpacity:1,onPress:this._onBackdropPress,__source:{fileName:_jsxFileName,lineNumber:205}}),_react.default.createElement(_reactNative.Animated.View,(0,_extends2.default)({},this.panResponder.panHandlers,{style:[_SheetBottom.default.container,style,{height:fullHeight,paddingVertical:cardVerticalPadding,transform:[{translateY:pan.y}]}],__source:{fileName:_jsxFileName,lineNumber:211}}),_react.default.createElement(_reactNative.View,{onLayout:this.onMenuLayout,__source:{fileName:_jsxFileName,lineNumber:223}},children)));}},{key:\"render\",value:function render(){return this._handlePlatform();}}]);return SheetBottom;}(_react.Component);(0,_defineProperty2.default)(SheetBottom,\"propTypes\",{duration:_propTypes.default.number,onBackdropPress:_propTypes.default.func,onSwipeDown:_propTypes.default.func,onSwipeUp:_propTypes.default.func,children:_propTypes.default.node,wrapperStyles:_propTypes.default.object,style:_propTypes.default.oneOfType([_propTypes.default.object,_propTypes.default.array]),visible:_propTypes.default.bool,cardVerticalPadding:_propTypes.default.number,pageHeight:_propTypes.default.number,testID:_propTypes.default.string});(0,_defineProperty2.default)(SheetBottom,\"defaultProps\",{duration:200,cardVerticalPadding:20});var _default=SheetBottom;exports.default=_default;"]},"metadata":{},"sourceType":"script"}